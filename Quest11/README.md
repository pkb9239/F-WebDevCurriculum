# Quest 11. RDB의 기초와 ORM

## Introduction
* 이번 퀘스트에서는 데이터베이스를 다루는 방법에 대해 알아보겠습니다.

## Topics
* RDBMS
* MySQL
* ORM
* Hash
  * scrypt

## Resources
* [MySQL 101 – The basics](https://www.globo.tech/learning-center/mysql-101-basics/)
* [Sequelize](https://sequelize.org/)
* [안전한 패스워드 저장](https://d2.naver.com/helloworld/318732)

## Checklist
* RDBMS 테이블의 정규화는 무엇인가요?
  - DB의 설계를 구성하는 테크닉, 불필요한 정보의 중복을 막기 위해 진행한다.
  - 용어
    - 후보키 : 튜플을 유일하게 식별할 수 있는 속성들의 부분집합을 의미. 즉, 기본키가 될 수 있는 키
    - 기본키 : 특정 튜플을 유일하게 구별할 수 있는 속성
    - 대체키 : 후보키가 둘 이상일 때 기본키를 제외한 나머지 후보키들 === 보조키
    - 슈퍼키 : 한 릴레이션 내에 있는 속성들의 집합으로 구성된 키, 유일성은 만족하지만, 최소성은 만족시키지 못한다
    - 외래키 : 참조되는 릴레이션의 기본키와 대응되어 사용되는 키, 릴레이션 간에 참조 관계를 표현한다
  - 1차, 2차, 3차, BCNF의 단계가 존재한다.
    - 1차 : 각 row의 column마다 값이 1개씩만 존재해야 한다
    - 2차 : 테이블이 두개 이상의 복합키로 구성되었을 경우, 이를 제거해야 한다
    - 3차 : 기본 키에 의존하지 않고 일반 열에 의존하는 열이 있다면 이를 제거해야 한다
    - BCNF : 후보키가 여러개인 상황을 제거
* MySQL 외의 RDB에는 어떤 것들이 있나요?
  - MS-SQL, MariaDB, 오라클DB, 등등
  - Relational Database 외에 다른 DB에는 어떤 것들이 있을까요?
    - 통칭 NoSQL류의 DB에는 MongoDB, Redis, HBase, Cassandra 등이 있다
* RDBMS에서 테이블의 인덱싱은 무엇인가요? 인덱싱을 하면 어떤 점이 다르며, 어떤 식으로 동작하나요?
  - 테이블 탐색의 속도를 높이기 위해 생성하는 자료구조, 일종의 목차를 생성하는 개념이다.
  - 인덱싱이 되어있지 않다면, 원하는 정보를 찾기 위해 테이블의 전체를 탐색해야 하는 비효율적인 일이 발생한다.
  - 인덱싱이 되어있다면, 인덱싱 테이블(Key-value 형태)을 탐색하여 원하는 정보의 인덱스를 찾고, 테이블에서 해당 column의 위치를 찾아 그 부분부터 탐색을 시작할 수 있다.
    - 단, insert, delete 등의 record 수정 소요가 발생할 시, 인덱스 테이블도 수정되어야 하는 overhead가 발생한다는 단점이 있다.
  - 인덱스 테이블은 기본적으로는 primary key에 대해 생성된다
* ORM을 사용하는 것은 사용하지 않는 것에 비해 어떤 장단점을 가지고 있나요?
  - 장점
    - 사람이 실수할 수 있는 확률을 줄여준다
    - SQL문에 대해 잘 모르더라도 사용이 가능하다
    - 생산성이 향상된다
  - 단점
    - 자세히 조정해야 하는 쿼리문을 대체하기 어렵다
    - 직접 raw하게 사용하는 쿼리보다 실행 속도가 느리다
  - 자바스크립트 생태계의 ORM에는 어떤 것들이 있나요?
    - sequelize, TypeORM, Knex
* 모델간의 1:1, 1:N, N:M 관계는 각각 무엇이고 어떨 때 사용하나요?
  - 엔티티 : DB에 표현되는 유형 또는 무형의 객체
  - 엔티티간의 관계를 표현하기 위한 식이다.
  - 예시
    - 1:1 -> 남편 - 아내
    - 1:N -> 부모 - 자식
    - N:M -> 학원 - 학생
* DB에 사용자의 암호를 평문으로 저장하지 않고도 사용자의 암호를 인증하는 것이 가능한 이유는 무엇일까요?
  - 저장된 해싱 문자열과 동일한 해시 알고리즘을 통해서 변환된 비밀번호를 비교하면 같은 문자열로 구성되었는지 비교가 가능해서
  - 해시 함수에는 어떤 것이 있나요?
    - Adaptive Key Derivation Functions, PBKDF2, bcrypt, scrypt 등등...
  - 사용자의 암호를 해싱하여 저장할 때 어떤 식으로 저장하는 것이 보안에 좋을까요?
    - 해시함수를 여러번 돌리거나, salt 문자열을 조합하여 사용한다

## Quest
* 이번에는 메모장을 파일이 아닌 DB기반으로 만들어 보고자 합니다.
  * 적절한 테이블을 설계해 보세요.
  * Sequelize를 이용하여 데이터의 모델을 만들고 어플리케이션에 적용해 보세요.
  * 사용자의 비밀번호는 해싱을 통해 저장되어야 합니다.

## Advanced
* Object–relational impedance mismatch란 어떤 개념인가요?
* Foreign Key란 무엇인가요? 이것을 사용할 때의 장점과 단점은 무엇일까요?
* 이전에 쓰이던 해시함수들에는 어떤 것이 있을까요? 패스워드 해싱의 추세의 역사는 어떻게 이어져왔나요?
