# Quest 15. 자동화된 테스트

## Introduction
* 이번 퀘스트에서는 자동화된 테스트에 어떤 장점이 있는지, 어떤 식으로 구축할 수 있는지에 대해 알아보겠습니다.

## Topics
* Automated Test
  * TDD
  * Unit Test
  * Integration Test
  * E2E Test
  * Stub & Mock
* Jest
* Puppeteer

## Resources
* [Unit Test (단위 테스트) 도입하기](https://www.popit.kr/unit-test-%EB%8B%A8%EC%9C%84-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EB%8F%84%EC%9E%85%ED%95%98%EA%B8%B0-1%ED%8E%B8/)
* [소프트웨어 테스트 안티 패턴](https://velog.io/@leejh3224/%EC%86%8C%ED%94%84%ED%8A%B8%EC%9B%A8%EC%96%B4-%ED%85%8C%EC%8A%A4%ED%8A%B8-%EC%95%88%ED%8B%B0-%ED%8C%A8%ED%84%B4)
* [End-to-End testing with Puppeteer and Jest](https://medium.com/touch4it/end-to-end-testing-with-puppeteer-and-jest-ec8198145321)
* [Mock & Stub](https://stackoverflow.com/questions/3459287/whats-the-difference-between-a-mock-stub)

## Checklist
* 자동화된 테스트를 만드는 것에는 어떤 장점과 단점이 있을까요?
  - TDD(Test-Driven Development)란 무엇인가요? TDD의 장점과 단점은 무엇일까요?
    - 테스트 코드 작성(테스트 100% 실패) -> 개발(테스트 100% 성공시 까지) -> 리팩토링 -> 테스트 통과하는지 검증, 의 단계를 거치는 개발 방법론
    - 안심하고 리팩토링 할 수 있다, 기능의 추가, 변경시 코드가 제대로 동작하는지 확인할 수 있다.
    - 모든 프로젝트에 TDD가 이득인것은 아니다. 프로젝트의 기능 또는 요구사항이 계속 바뀌거나, 초기에 구현체 목표가 명확하지 않다면 테스트 코드 역시 리팩토링 해야 하므로 TDD가 힘들어진다.
  
* 테스트들 간의 계층에 따라 어떤 단계들이 있을까요?

  - 유닛/통합/E2E

  - 유닛 테스트, 통합 테스트, E2E 테스트는 각각 어떤 것을 뜻하나요?
    - 유닛 : 클래스, 함수처럼 가장 작은 단위
    - 통합 : 유닛들이 모여 일정 기능을 이룰때 (Ex, FE의 컴포넌트)
    - E2E : Ui/Ux 경험 또는 프로덕트에 존재하는 기능의 큰 줄기
  - 테스트에 있어서 Stub과 Mock은 어떤 개념을 가리키는 것일까요?
    - 개념
      - 테스트 더블 : 의존 구성요소(import 해서 사용하는 객체)를 사용할 수 없을 때 테스트 대상 코드와 상호작용 하는 객체입니다.
      - 상태 검증 : 메소드가 수행된 후, 객체의 상태를 확인하여 올바르게 동작했는지를 확인하는 검증법
      - 행위 검증 : 메소드의 리턴 값으로 판단할 수 없는 경우 특정 동작을 수행하는지확인하는 검증법
    - Stub : 하드코딩 느낌, 테스팅에 필요한 다른 유닛의 코드를 복제하지 않고, 일부 정해진 동작 부분만 따로 구현하여 import 하는 방식, 따라서 미리 준비된 요소에 대해서만 응답할 수 있음, 상태 검증을 위해 사용
    - Mock : 호출에 대한 기대를 명세하고, 내용에 따라 동작하도록 프로그래밍 된 객체, 행위 검증을 위해 사용
    - Stub은 별도의 코드가 필요하고, Mock은 객체를 복사해서 사용하는 느낌이다

* Jest는 어떤 일을 하며 어떻게 사용하는 테스트 프레임워크일까요?

  - Jest 이외의 테스트 프레임워크는 어떤 것이 있고 어떤 장단점이 있을까요?
    - karma : 여러 브라우저에서 코드를 실행하게 해주는 도구
    - mocha : node와 브라우저 환경에서 테스트를 도와주는 도구, 비동기 테스팅을 쉽고 재미있게 할 수 있다고 소개한다
    - enzyme : 리액트 전용 테스트 도구
    - jasmine : node와 브라우저 환경에서 테스트를 도와주는 도구, 비동기 테스팅 가능

* Puppeteer는 어떤 일을 하며 어떻게 사용하는 테스트 프레임워크일까요?

  - 브라우저 테스팅 환경을 만들 수 있는 도구
  - 크로미움 엔진을 사용한다
  - GUI 방식의 브라우저와 다르게, 화면을 표시하지 않고 CLI로 접근할 수 있다
  - npm에서 puppeteer와, puppeteer-core 두가지중 선택하여 사용 가능한데, puppeteer 자체 크롬을 사용하느냐, 로컬에 설치된 크롬을 사용하느냐의 차이가 있다.

## Quest
* 직전 퀘스트의 메모장의 서버와 클라이언트 각 부분에 유닛 테스트, 통합 테스트, E2E 테스트 등을 추가해 보세요.
  * `npm test` 명령을 통해 모든 테스트가 돌고 그 결과를 출력할 수 있어야 합니다.

## Advanced
* 테스트의 커버리지는 어떤 개념일까요? 프로젝트에서 테스트의 커버리지는 어떻게 접근하는 것이 좋을까요?
